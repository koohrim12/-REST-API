<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root"></div>
    <script>
      const xhr = new XMLHttpRequest();
      console.dir(xhr);
      let requestMethod = "GET";

      const API_key =
        "7B0UdKJ9T4IeLL7vj40OSMderbRN3mFXhyra69Q2rlGmiPq9J1xEQcKxka6i2x8ywX9eDEW8qor5Keh8a0trgA%3D%3D";

      async function getData() {
        const url = `
              https://apis.data.go.kr/6300000/openapi2022/restrnt/getrestrnt?serviceKey=${API_key}&pageNo=1&numOfRows=10
                  `;
        xhr.open("GET", url, true);
        xhr.send();
      }
      getData();
      xhr.addEventListener("load", () => {
        if (xhr.status === 200) {
          console.log("200 코드는 성공 코드이다.");
          // console.dir(xhr.responseText);
          const result = JSON.parse(xhr.responseText);
          console.dir(typeof result);
          console.dir(result);
          console.log(result);
          console.dir(result.response.body.items);
          console.log(result.response.body.items[0]);
          console.log(result.response.body.items[1]);
          // console.log(result.response.body.items[2]);
          // console.log(result.response.body.items[3]);
          // console.log(result.response.body.items[4]);
          // console.log(result.response.body.items[5]);
          // console.log(result.response.body.items[6]);
          // console.log(result.response.body.items[7]);
          // console.log(result.response.body.items[8]);
          // console.log(result.response.body.items[9]);
          // console.log(result.response.body.items[10]);

          const root = document.getElementById("root");
          console.log(root);

          let lists = [];
          result.response.body.items.forEach((items) => {
            lists.push(`<li>${items.restrntNm}</li>`);
            lists.push(`<div>${items.restrntSumm}</div>`);
          });

          console.log(lists.join(""));

          root.innerHTML = `<ul>${lists.join("")}</ul>`;
          root.style.backgroundColor = "pink";
        }
      });
    </script>
  </body>
</html>
